{"ast":null,"code":"var _jsxFileName = \"/Users/felipebuscaglia/Henry/finddevsfrontend/src/Screens/PostStartup/PostStartup.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useLayoutEffect } from 'react';\nimport Logo from '../../Media/invertedlogo.png';\nimport style from './PostStartup.module.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { BlockPicker } from 'react-color';\nimport { getBrightness } from '../../utils';\nimport Loading from '../../Media/Loading.gif';\nimport { setUserInfo } from '../../Actions/index';\nimport jwt from 'jsonwebtoken';\nimport { Alert } from 'reactstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostStartup({\n  user,\n  limitOfPosts,\n  setUserInfo\n}) {\n  _s();\n\n  const [input, setInput] = useState({\n    mainColor: '#000'\n  });\n  const [preview, setPreview] = useState('https://i.ibb.co/m82SNJT/profile-pic-startup-sin-marco.png');\n  const [file, setFile] = useState(null);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [firstCheck, setFirstCheck] = useState(true);\n  const [inputErrors, setInputErrors] = useState({});\n  const [btnDisabled, setDisabled] = useState(false);\n\n  async function asyncUseEffect(username) {\n    await setUserInfo(username);\n  }\n\n  useLayoutEffect(() => {\n    if (!user.username) {\n      const user = jwt.decode(JSON.parse(localStorage.getItem('user')));\n\n      if (user) {\n        asyncUseEffect(user.username);\n      } else window.location.replace('/error');\n    }\n\n    if (limitOfPosts) window.location.replace('/error');\n    setTimeout(() => {\n      setFirstCheck(false);\n    }, 2000);\n  }, [limitOfPosts]);\n\n  function handleInputChange(e) {\n    var copyOfErrors = inputErrors;\n    var noErrors = true;\n    if (e.hex) return setInput({ ...input,\n      mainColor: e.hex\n    });\n\n    if (e.target.name === 'website' || e.target.name === 'workZone' || e.target.name === 'productHunt' || e.target.name === 'twitter' || e.target.name === 'linkedIn') {\n      if (!/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/.test(e.target.value)) copyOfErrors = { ...copyOfErrors,\n        [e.target.name]: true\n      };else copyOfErrors = { ...copyOfErrors,\n        [e.target.name]: false\n      };\n    }\n\n    for (const key in copyOfErrors) if (copyOfErrors[key]) noErrors = false;\n\n    if (noErrors) setDisabled(false);else setDisabled(true);\n    setInputErrors(copyOfErrors);\n    setInput({ ...input,\n      [e.target.name]: e.target.value\n    });\n  }\n\n  function handleSubmit() {\n    setLoading(true);\n    if (!file) input.logo = 'https://i.ibb.co/m82SNJT/profile-pic-startup-sin-marco.png';\n    input.isPremium = user.isPremium;\n    input.ownerId = user.id;\n    input.brightness = getBrightness(input.mainColor);\n    axios.post(`/projects/${user.username}`, input).then(res => {\n      if (file) {\n        const newForm = new FormData();\n        newForm.append('image', file);\n        const config = {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        };\n        return axios.post(`/projects/${res.data.id}/logo`, newForm, config);\n      } else window.location.replace('/admin/panel');\n    }).then(res => window.location.replace('/admin/panel')).catch(err => setError(true));\n  }\n\n  function check(e) {\n    setFile(e.target.files[0]);\n    setPreview(URL.createObjectURL(e.target.files[0]));\n  }\n\n  if (firstCheck) {\n    return /*#__PURE__*/_jsxDEV(\"img\", {\n      alt: \"Loading GIF\",\n      id: style.firstCheck,\n      src: Loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"displayFlex\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: style.fixedDiv,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: style.logoDiv,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/user/${user.username}`,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            alt: \"Project logo\",\n            src: Logo,\n            id: style.invertedLogo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        id: style.link,\n        to: `/admin/panel`,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font200\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            class: \"fas fa-door-open\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 85\n          }, this), \" Back to Admin Panel\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 59\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: style.secondDiv,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"font800\",\n        children: \"Let's start.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"font200\",\n        children: [\"Provide the necessary information for developers to fully understand what your project is about. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 118\n        }, this), \"Remember, the more details you provide, the more users will be interested in what you are doing. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 118\n        }, this), \"Don't worry, you can always edit this later! \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 66\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font600\",\n          children: \"Project name *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          maxLength: \"100\",\n          onChange: e => handleInputChange(e),\n          name: \"name\",\n          className: style.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font600\",\n          children: \"Logo *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: style.profilePicDiv,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: style.profilePic,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              alt: \"Selected project logo\",\n              src: preview,\n              ID: style.logo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 52\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: style.fileDrop,\n            id: style.logoLabel,\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              class: \"fas fa-cloud-upload-alt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this), \" Upload Logo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => check(e),\n            id: style.fileDrop,\n            type: \"file\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            marginBottom: '25px'\n          },\n          className: \"font600\",\n          children: \"Main color *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(BlockPicker, {\n          onChange: e => handleInputChange(e),\n          color: input.mainColor,\n          triangle: 'hide'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '25px'\n        },\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font600\",\n          children: \"Website\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            border: inputErrors.website ? '2px solid red' : '2px solid #e7e7e7'\n          },\n          maxLength: \"255\",\n          onChange: e => handleInputChange(e),\n          name: \"website\",\n          className: style.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), inputErrors.website && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: style.errors,\n          children: \"Please enter a valid URL.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 45\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font600\",\n          children: \"Work Zone *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"advert\",\n          children: [\"Keep in mind that it will be your team's designated workspace. It can be a link to Slack,\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 135\n          }, this), \" Flowdock or WebEx, for example.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          style: {\n            border: inputErrors.workZone ? '2px solid red' : '2px solid #e7e7e7'\n          },\n          maxLength: \"255\",\n          onChange: e => handleInputChange(e),\n          value: input.workZone,\n          name: \"workZone\",\n          className: style.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), inputErrors.workZone && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: style.errors,\n          children: \"Please enter a valid URL.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 46\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: style.socialDiv,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"displayFlexColumn\",\n          id: \"alignItemsFS\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font800\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              style: {\n                color: '#DA552F'\n              },\n              class: \"fab fa-product-hunt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 51\n            }, this), \" Product Hunt\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              border: inputErrors.productHunt ? '2px solid red' : '2px solid #e7e7e7'\n            },\n            maxLength: \"255\",\n            name: \"productHunt\",\n            onChange: e => handleInputChange(e),\n            className: style.socialMediaInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), inputErrors.productHunt && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.errors,\n            children: \"Please enter a valid URL.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"displayFlexColumn\",\n          id: \"alignItemsFS\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font800\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              style: {\n                color: ' #00acee'\n              },\n              class: \"fab fa-twitter-square\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 51\n            }, this), \" Twitter\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              border: inputErrors.twitter ? '2px solid red' : '2px solid #e7e7e7'\n            },\n            maxLength: \"255\",\n            name: \"twitter\",\n            onChange: e => handleInputChange(e),\n            className: style.socialMediaInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), inputErrors.twitter && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.errors,\n            children: \"Please enter a valid URL.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 49\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"displayFlexColumn\",\n          id: \"alignItemsFS\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font800\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              style: {\n                color: '#0e76a8'\n              },\n              class: \"fab fa-linkedin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 51\n            }, this), \" LinkedIn\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              border: inputErrors.linkedIn ? '2px solid red' : '2px solid #e7e7e7'\n            },\n            maxLength: \"255\",\n            name: \"linkedIn\",\n            onChange: e => handleInputChange(e),\n            className: style.socialMediaInput\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), inputErrors.linkedIn && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: style.errors,\n            children: \"Please enter a valid URL.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 50\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font600\",\n          children: \"One-line description *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"advert\",\n          children: \"Describe your project in just a few words.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          maxLength: \"100\",\n          onChange: e => handleInputChange(e),\n          name: \"oneLineDescription\",\n          className: style.input\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"displayFlexColumn\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font600\",\n          children: \"Describe your project *\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          onChange: e => handleInputChange(e),\n          name: \"description\",\n          maxLength: \"2000\",\n          className: style.textarea\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n        id: style.alert,\n        color: \"danger\",\n        children: \"Please complete all the necessary fields.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 27\n      }, this), loading && !error ? /*#__PURE__*/_jsxDEV(\"img\", {\n        alt: \"Loading GIF\",\n        id: style.loading,\n        src: Loading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 38\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: btnDisabled,\n        onClick: handleSubmit,\n        id: style.uploadBtn,\n        children: \"Post your project!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 99\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostStartup, \"tUUiE/zUMBwTbhvBysKOwjuf8ZQ=\");\n\n_c = PostStartup;\n\nfunction mapStateToProps(state) {\n  return {\n    user: state.userInfo,\n    limitOfPosts: state.limitOfPosts\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setUserInfo: username => dispatch(setUserInfo(username))\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostStartup);\n\nvar _c;\n\n$RefreshReg$(_c, \"PostStartup\");","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/finddevsfrontend/src/Screens/PostStartup/PostStartup.jsx"],"names":["React","useState","useLayoutEffect","Logo","style","Link","axios","connect","BlockPicker","getBrightness","Loading","setUserInfo","jwt","Alert","PostStartup","user","limitOfPosts","input","setInput","mainColor","preview","setPreview","file","setFile","error","setError","loading","setLoading","firstCheck","setFirstCheck","inputErrors","setInputErrors","btnDisabled","setDisabled","asyncUseEffect","username","decode","JSON","parse","localStorage","getItem","window","location","replace","setTimeout","handleInputChange","e","copyOfErrors","noErrors","hex","target","name","test","value","key","handleSubmit","logo","isPremium","ownerId","id","brightness","post","then","res","newForm","FormData","append","config","headers","data","catch","err","check","files","URL","createObjectURL","fixedDiv","logoDiv","invertedLogo","link","secondDiv","profilePicDiv","profilePic","fileDrop","logoLabel","marginBottom","marginTop","border","website","errors","workZone","socialDiv","color","productHunt","socialMediaInput","twitter","linkedIn","textarea","alert","uploadBtn","mapStateToProps","state","userInfo","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useLayoutEffect } from 'react';\nimport Logo from '../../Media/invertedlogo.png';\nimport style from './PostStartup.module.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { BlockPicker } from 'react-color';\nimport { getBrightness } from '../../utils';\nimport Loading from '../../Media/Loading.gif';\nimport { setUserInfo } from '../../Actions/index';\nimport jwt from 'jsonwebtoken';\nimport { Alert } from 'reactstrap';\n\nfunction PostStartup({ user, limitOfPosts, setUserInfo }) {\n    const [input, setInput] = useState({ mainColor: '#000' });\n    const [preview, setPreview] = useState('https://i.ibb.co/m82SNJT/profile-pic-startup-sin-marco.png');\n    const [file, setFile] = useState(null);\n    const [error, setError] = useState(false);\n    const [loading, setLoading] = useState(false);\n    const [firstCheck, setFirstCheck] = useState(true);\n    const [inputErrors, setInputErrors] = useState({});\n    const [btnDisabled, setDisabled] = useState(false);\n\n    async function asyncUseEffect(username) {\n        await (setUserInfo(username));\n    }\n\n    useLayoutEffect(() => {\n        if (!user.username) {\n            const user = jwt.decode(JSON.parse(localStorage.getItem('user')))\n            if (user) {\n                asyncUseEffect(user.username);\n            } else window.location.replace('/error');\n        }\n        if (limitOfPosts) window.location.replace('/error');\n        setTimeout(() => {\n            setFirstCheck(false);\n        }, 2000)\n    }, [limitOfPosts])\n\n    function handleInputChange(e) {\n        var copyOfErrors = inputErrors;\n        var noErrors = true;\n\n        if (e.hex) return setInput({ ...input, mainColor: e.hex });\n\n        if (e.target.name === 'website' || e.target.name === 'workZone' || e.target.name === 'productHunt' || e.target.name === 'twitter' || e.target.name === 'linkedIn') {\n            if (!/https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/.test(e.target.value)) copyOfErrors = { ...copyOfErrors, [e.target.name]: true };\n            else copyOfErrors = { ...copyOfErrors, [e.target.name]: false }\n        }\n\n        for (const key in copyOfErrors) if (copyOfErrors[key]) noErrors = false;\n\n        if (noErrors) setDisabled(false);\n        else setDisabled(true);\n\n        setInputErrors(copyOfErrors);\n\n        setInput({\n            ...input,\n            [e.target.name]: e.target.value\n        })\n    }\n\n    function handleSubmit() {\n        setLoading(true);\n        if (!file) input.logo = 'https://i.ibb.co/m82SNJT/profile-pic-startup-sin-marco.png';\n        input.isPremium = user.isPremium;\n        input.ownerId = user.id;\n        input.brightness = getBrightness(input.mainColor);\n        axios.post(`/projects/${user.username}`, input)\n            .then(res => {\n                if (file) {\n                    const newForm = new FormData();\n                    newForm.append('image', file);\n                    const config = {\n                        headers: {\n                            'content-type': 'multipart/form-data'\n                        }\n                    };\n                    return axios.post(`/projects/${res.data.id}/logo`, newForm, config);\n                } else window.location.replace('/admin/panel')\n            })\n            .then(res => window.location.replace('/admin/panel'))\n            .catch(err => setError(true))\n    }\n\n    function check(e) {\n        setFile(e.target.files[0]);\n        setPreview(URL.createObjectURL(e.target.files[0]));\n    }\n\n    if (firstCheck) {\n        return (\n            <img alt=\"Loading GIF\" id={style.firstCheck} src={Loading} />\n        )\n    }\n\n    return (\n        <div className='displayFlex'>\n            <div id={style.fixedDiv}>\n                <div id={style.logoDiv}>\n                    <Link to={`/user/${user.username}`}><img alt=\"Project logo\" src={Logo} id={style.invertedLogo} /></Link>\n                </div>\n                <Link id={style.link} to={`/admin/panel`}><span className='font200'><i class=\"fas fa-door-open\"></i> Back to Admin Panel</span></Link>\n            </div>\n            <div id={style.secondDiv}>\n                <h1 className='font800'>Let's start.</h1>\n                <p className='font200'>\n                    Provide the necessary information for developers to fully understand what your project is about. <br />\n                    Remember, the more details you provide, the more users will be interested in what you are doing. <br />\n                    Don't worry, you can always edit this later! <br />\n                </p>\n                <div className='displayFlexColumn'>\n                    <span className='font600'>Project name *</span>\n                    <input maxLength='100' onChange={(e) => handleInputChange(e)} name='name' className={style.input} />\n                </div>\n                <div className='displayFlexColumn'>\n                    <span className='font600'>Logo *</span>\n                    <div id={style.profilePicDiv}>\n                        <div id={style.profilePic}><img alt=\"Selected project logo\" src={preview} ID={style.logo} /></div>\n                        <label for={style.fileDrop} id={style.logoLabel}>\n                            <i class=\"fas fa-cloud-upload-alt\"></i> Upload Logo\n                        </label>\n                        <input onChange={(e) => check(e)} id={style.fileDrop} type='file' />\n                    </div>\n                </div>\n                <div className='displayFlexColumn'>\n                    <span style={{ marginBottom: '25px' }} className='font600'>Main color *</span>\n                    <BlockPicker onChange={(e) => handleInputChange(e)} color={input.mainColor} triangle={'hide'} />\n                </div>\n                <div style={{ marginTop: '25px' }} className='displayFlexColumn'>\n                    <span className='font600'>Website</span>\n                    <input style={{ border: inputErrors.website ? '2px solid red' : '2px solid #e7e7e7' }} maxLength='255' onChange={(e) => handleInputChange(e)} name='website' className={style.input} />\n                    {inputErrors.website && <span className={style.errors}>Please enter a valid URL.</span>}\n                </div>\n                <div className='displayFlexColumn'>\n                    <span className='font600'>Work Zone *</span>\n                    <span className='advert'>Keep in mind that it will be your team's designated workspace. It can be a link to Slack,<br /> Flowdock or WebEx, for example.</span>\n                    <input style={{ border: inputErrors.workZone ? '2px solid red' : '2px solid #e7e7e7' }} maxLength='255' onChange={(e) => handleInputChange(e)} value={input.workZone} name='workZone' className={style.input} />\n                    {inputErrors.workZone && <span className={style.errors}>Please enter a valid URL.</span>}\n                </div>\n                <div id={style.socialDiv}>\n                    <div className='displayFlexColumn' id='alignItemsFS'>\n                        <span className='font800'><i style={{ color: '#DA552F' }} class=\"fab fa-product-hunt\"></i> Product Hunt</span>\n                        <input style={{ border: inputErrors.productHunt ? '2px solid red' : '2px solid #e7e7e7' }} maxLength='255' name='productHunt' onChange={(e) => handleInputChange(e)} className={style.socialMediaInput} />\n                        {inputErrors.productHunt && <span className={style.errors}>Please enter a valid URL.</span>}\n                    </div>\n                    <div className='displayFlexColumn' id='alignItemsFS'>\n                        <span className='font800'><i style={{ color: ' #00acee' }} class=\"fab fa-twitter-square\"></i> Twitter</span>\n                        <input style={{ border: inputErrors.twitter ? '2px solid red' : '2px solid #e7e7e7' }} maxLength='255' name='twitter' onChange={(e) => handleInputChange(e)} className={style.socialMediaInput} />\n                        {inputErrors.twitter && <span className={style.errors}>Please enter a valid URL.</span>}\n                    </div>\n                    <div className='displayFlexColumn' id='alignItemsFS'>\n                        <span className='font800'><i style={{ color: '#0e76a8' }} class=\"fab fa-linkedin\"></i> LinkedIn</span>\n                        <input style={{ border: inputErrors.linkedIn ? '2px solid red' : '2px solid #e7e7e7' }} maxLength='255' name='linkedIn' onChange={(e) => handleInputChange(e)} className={style.socialMediaInput} />\n                        {inputErrors.linkedIn && <span className={style.errors}>Please enter a valid URL.</span>}\n                    </div>\n                </div>\n                <div className='displayFlexColumn'>\n                    <span className='font600'>One-line description *</span>\n                    <span className='advert'>Describe your project in just a few words.</span>\n                    <input maxLength=\"100\" onChange={(e) => handleInputChange(e)} name='oneLineDescription' className={style.input} />\n                </div>\n                <div className='displayFlexColumn'>\n                    <span className='font600' >Describe your project *</span>\n                    <textarea onChange={(e) => handleInputChange(e)} name='description' maxLength=\"2000\" className={style.textarea} />\n                </div>\n                {error && <Alert id={style.alert} color=\"danger\">Please complete all the necessary fields.</Alert>}\n                {loading && !error ? <img alt=\"Loading GIF\" id={style.loading} src={Loading} /> : <button disabled={btnDisabled} onClick={handleSubmit} id={style.uploadBtn}>Post your project!</button>}\n            </div>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userInfo,\n        limitOfPosts: state.limitOfPosts\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        setUserInfo: username => dispatch(setUserInfo(username))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PostStartup);"]},"metadata":{},"sourceType":"module"}