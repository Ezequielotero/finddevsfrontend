{"ast":null,"code":"import _regeneratorRuntime from\"/Users/felipebuscaglia/Henry/FindDevs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/felipebuscaglia/Henry/FindDevs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/felipebuscaglia/Henry/FindDevs/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useLayoutEffect}from'react';import Logo from'../../Media/invertedlogo.png';import style from'./StartupAdminPanel.module.css';import{Link}from'react-router-dom';import axios from'axios';import{connect}from'react-redux';import ProjectCard from'../../Components/ProjectCard/ProjectCard';import Empty from\"../../Media/emptyJob.svg\";import jwt from'jsonwebtoken';import{setUserInfo as _setUserInfo}from'../../Actions/index';import Loading from'../../Media/Loading.gif';import GoPremium from'../../Components/GoPremiumPopUp/GoPremium';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function StartupAdminPanel(_ref){var user=_ref.user,limitOfPosts=_ref.limitOfPosts,setUserInfo=_ref.setUserInfo;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projects=_useState2[0],setProjects=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];function asyncUseEffect(_x){return _asyncUseEffect.apply(this,arguments);}function _asyncUseEffect(){_asyncUseEffect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(username){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return setUserInfo(username);case 2:case\"end\":return _context.stop();}}},_callee);}));return _asyncUseEffect.apply(this,arguments);}useLayoutEffect(function(){if(!user.username){var _user=jwt.decode(JSON.parse(localStorage.getItem('user')));if(_user){asyncUseEffect(_user.username);}else window.location.replace('/error');}axios.get(\"/users/\".concat(user.username,\"/projects\")).then(function(projectsData){projectsData.data=projectsData.data.sort(function(a,b){return b.userXprojects.isFounder-a.userXprojects.isFounder;});setProjects(projectsData.data);setLoading(false);}).catch(function(err){return console.log(err);});},[user]);if(loading){return/*#__PURE__*/_jsx(\"img\",{alt:\"Loading GIF\",src:Loading,id:style.loading});}return/*#__PURE__*/_jsxs(\"div\",{className:\"displayFlex\",children:[/*#__PURE__*/_jsxs(\"div\",{id:style.fixedDiv,children:[/*#__PURE__*/_jsx(\"div\",{id:style.logoDiv,children:/*#__PURE__*/_jsx(\"img\",{alt:\"Inverted FindDevs logo\",src:Logo,id:style.invertedLogo})}),/*#__PURE__*/_jsx(Link,{id:style.link,to:\"/user/\".concat(user.username),children:/*#__PURE__*/_jsxs(\"span\",{className:\"font200\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fas fa-door-open\"}),\" Go back\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{id:style.secondDiv,children:[/*#__PURE__*/_jsxs(\"div\",{id:style.projectDiv,children:[projects.length>0&&/*#__PURE__*/_jsx(\"h1\",{className:\"font800\",children:\"Your projects\"}),projects.length>0?projects.map(function(project){return project.userXprojects.endDate!==null?null:project.userXprojects.isFounder?/*#__PURE__*/_jsx(ProjectCard,{project:project,isFounder:true},project.id):/*#__PURE__*/_jsx(ProjectCard,{project:project,isFounder:false},project.id);}):/*#__PURE__*/_jsxs(\"div\",{id:style.emptyDiv,children:[/*#__PURE__*/_jsx(\"img\",{alt:\"No jobs posted\",src:Empty,id:style.empty}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{id:style.emptyTitle,children:\"Start gathering the team.\"}),/*#__PURE__*/_jsx(Link,{className:\"links\",to:\"/project/post\",children:/*#__PURE__*/_jsx(\"div\",{id:style.addBtn2,children:\"Post a project\"})})]})]})]}),projects.length>0&&!limitOfPosts?/*#__PURE__*/_jsx(Link,{to:\"/project/post\",children:/*#__PURE__*/_jsx(\"span\",{id:style.postBtn,children:\"Post a project\"})}):/*#__PURE__*/_jsx(GoPremium,{isAdminPanel:true})]})]});}function mapStateToProps(state){return{user:state.userInfo,limitOfPosts:state.limitOfPosts};}function mapDispatchToProps(dispatch){return{setUserInfo:function setUserInfo(username){return dispatch(_setUserInfo(username));}};}export default connect(mapStateToProps,mapDispatchToProps)(StartupAdminPanel);","map":{"version":3,"sources":["/Users/felipebuscaglia/Henry/FindDevs/client/src/Screens/StartupAdminPanel/StartupAdminPanel.jsx"],"names":["React","useState","useLayoutEffect","Logo","style","Link","axios","connect","ProjectCard","jwt","setUserInfo","Loading","GoPremium","StartupAdminPanel","user","limitOfPosts","projects","setProjects","loading","setLoading","asyncUseEffect","username","decode","JSON","parse","localStorage","getItem","window","location","replace","get","then","projectsData","data","sort","a","b","userXprojects","isFounder","catch","err","console","log","fixedDiv","logoDiv","invertedLogo","link","secondDiv","projectDiv","length","map","project","endDate","id","emptyDiv","Empty","empty","emptyTitle","addBtn2","postBtn","mapStateToProps","state","userInfo","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useLayoutEffect } from 'react';\nimport Logo from '../../Media/invertedlogo.png';\nimport style from './StartupAdminPanel.module.css';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport ProjectCard from '../../Components/ProjectCard/ProjectCard';\nimport Empty from '../../Media/emptyJob.svg';\nimport jwt from 'jsonwebtoken';\nimport { setUserInfo } from '../../Actions/index';\nimport Loading from '../../Media/Loading.gif';\nimport GoPremium from '../../Components/GoPremiumPopUp/GoPremium';\n\nfunction StartupAdminPanel({ user, limitOfPosts, setUserInfo }) {\n    const [projects, setProjects] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    async function asyncUseEffect(username) {\n        await (setUserInfo(username));\n    }\n\n    useLayoutEffect(() => {\n        if (!user.username) {\n            const user = jwt.decode(JSON.parse(localStorage.getItem('user')))\n            if (user) {\n                asyncUseEffect(user.username);\n            } else window.location.replace('/error');\n        }\n        axios.get(`/users/${user.username}/projects`)\n            .then(projectsData => {\n                projectsData.data = projectsData.data.sort((a, b) => {\n                    return b.userXprojects.isFounder - a.userXprojects.isFounder\n                })\n                setProjects(projectsData.data)\n                setLoading(false);\n            })\n            .catch(err => console.log(err))\n    }, [user])\n\n    if (loading) {\n        return <img alt=\"Loading GIF\" src={Loading} id={style.loading} />\n    }\n\n    return (\n        <div className='displayFlex'>\n            <div id={style.fixedDiv} >\n                <div id={style.logoDiv}>\n                    <img alt=\"Inverted FindDevs logo\" src={Logo} id={style.invertedLogo} />\n                </div>\n                <Link id={style.link} to={`/user/${user.username}`}><span className='font200'><i class=\"fas fa-door-open\"></i> Go back</span></Link>\n            </div>\n            <div id={style.secondDiv}>\n                <div id={style.projectDiv}>\n                    {projects.length > 0 && <h1 className='font800'>Your projects</h1>}\n                    {projects.length > 0 ? projects.map(project => project.userXprojects.endDate !== null ? null : project.userXprojects.isFounder ? <ProjectCard key={project.id} project={project} isFounder={true} /> : <ProjectCard key={project.id} project={project} isFounder={false} />) :\n                        <div id={style.emptyDiv}>\n                            <img alt=\"No jobs posted\" src={Empty} id={style.empty} />\n                            <div>\n                                <h1 id={style.emptyTitle}>Start gathering the team.</h1>\n                                <Link className='links' to='/project/post'><div id={style.addBtn2}>Post a project</div></Link>\n                            </div>\n                        </div>}\n                </div>\n                {projects.length > 0 && !limitOfPosts ? <Link to='/project/post'><span id={style.postBtn}>Post a project</span></Link> : <GoPremium isAdminPanel={true} />}\n            </div>\n        </div>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        user: state.userInfo,\n        limitOfPosts: state.limitOfPosts\n    }\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        setUserInfo: username => dispatch(setUserInfo(username))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StartupAdminPanel);"]},"metadata":{},"sourceType":"module"}